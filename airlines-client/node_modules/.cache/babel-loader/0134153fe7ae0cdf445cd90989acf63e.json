{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/nicholasmather/projects/airlines/airlines-client/src/components/Signup.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        email,\n        name,\n        password,\n        password_confirmation\n      } = this.state;\n      let user = {\n        name: name,\n        email: email,\n        password: password,\n        password_confirmation: password_confirmation\n      };\n      axios.post('http://localhost:3000/users', {\n        user\n      }, {\n        withCredentials: true\n      }).then(response => {\n        if (response.data.status === 'created') {\n          this.props.handleLogin(response.data);\n          this.redirect();\n        } else {\n          this.setState({\n            errors: response.data.errors\n          });\n        }\n      }).catch(error => console.log('api errors:', error));\n    };\n\n    this.redirect = () => {\n      this.props.history.push('/');\n    };\n\n    this.handleErrors = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: this.state.errors.map(error => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: error\n            }, error, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 20\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this);\n    };\n\n    this.state = {\n      email: '',\n      name: '',\n      password: '',\n      password_confirmation: '',\n      errors: ''\n    };\n  }\n\n  render() {\n    const {\n      name,\n      email,\n      password,\n      password_confirmation\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this._handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          autoFocus: true,\n          type: \"email\",\n          value: email,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: this._handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password_confirmation,\n          onChange: this._handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.errors ? this.handleErrors() : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/Users/nicholasmather/projects/airlines/airlines-client/src/components/Signup.js"],"names":["React","Component","axios","Signup","constructor","props","handleChange","event","name","value","target","setState","handleSubmit","preventDefault","email","password","password_confirmation","state","user","post","withCredentials","then","response","data","status","handleLogin","redirect","errors","catch","error","console","log","history","push","handleErrors","map","render","_handleSubmit","_handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      name: '',\n      password: '',\n      password_confirmation: '',\n      errors: ''\n     };\n  }\nhandleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\nhandleSubmit = (event) => {\n    event.preventDefault()\n    const { email, name, password, password_confirmation} = this.state\n\n    let user = {\n      name: name,\n      email: email,\n      password: password,\n      password_confirmation: password_confirmation\n    }\n\n    axios.post('http://localhost:3000/users', {user}, {withCredentials: true})\n    .then(response => {\n      if (response.data.status === 'created') {\n        this.props.handleLogin(response.data)\n        this.redirect()\n      } else {\n        this.setState({\n          errors: response.data.errors\n        })\n      }\n    })\n    .catch(error => console.log('api errors:', error))\n  };\n\n    redirect = () => {\n      this.props.history.push('/')\n    }\n\n    handleErrors = () => {\n      return (\n        <div>\n          <ul>{this.state.errors.map((error) => {\n            return <li key={error}>{error}</li>\n          })}\n          </ul>\n        </div>\n      )\n    }\n\nrender() {\n    const {name, email, password, password_confirmation} = this.state\n\n    return (\n      <div>\n      <form onSubmit = { this._handleSubmit }>\n        <label>Email</label>\n        <input\n            autoFocus\n            type=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n\n          <label>Name</label>\n          <input\n              type=\"text\"\n              value={name}\n              onChange={this.handleChange}\n            />\n\n          <label>Password</label>\n          <input\n            type=\"password\"\n            value={password}\n            onChange={this._handleChange}\n          />\n\n          <label>Confirm password</label>\n          <input\n            type=\"password\"\n            value={password_confirmation}\n            onChange={this._handleChange}\n          />\n        <input type=\"submit\" value=\"Sign Up\" />\n      </form>\n      <div>\n        {\n          this.state.errors ? this.handleErrors() : null\n        }\n      </div>\n      </div>\n\n    )\n\n  }\n}\n\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}