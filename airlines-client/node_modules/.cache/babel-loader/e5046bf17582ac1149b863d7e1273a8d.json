{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/nicholasmather/projects/airlines/airlines-client/src/components/Signup.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        email,\n        name,\n        password,\n        password_confirmation\n      } = this.state;\n      let user = {\n        username: username,\n        email: email,\n        password: password,\n        password_confirmation: password_confirmation\n      };\n      axios.post('http://localhost:3000/users', {\n        user\n      }, {\n        withCredentials: true\n      }).then(response => {\n        if (response.data.status === 'created') {\n          this.props.handleLogin(response.data);\n          this.redirect();\n        } else {\n          this.setState({\n            errors: response.data.errors\n          });\n        }\n      }).catch(error => console.log('api errors:', error));\n    };\n\n    this.redirect = () => {\n      this.props.history.push('/');\n    };\n\n    this.handleErrors = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: this.state.errors.map(error => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: error\n            }, error, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 20\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this);\n    };\n\n    this.state = {\n      email: '',\n      name: '',\n      password: '',\n      password_confirmation: '',\n      errors: ''\n    };\n  }\n\n  render() {\n    const {\n      name,\n      email,\n      password,\n      password_confirmation\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this._handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        autoFocus: true,\n        type: \"email\",\n        value: email,\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: name,\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: this._handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Confirm password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password_confirmation,\n        onChange: this._handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/Users/nicholasmather/projects/airlines/airlines-client/src/components/Signup.js"],"names":["React","Component","axios","Signup","constructor","props","handleChange","event","name","value","target","setState","handleSubmit","preventDefault","email","password","password_confirmation","state","user","username","post","withCredentials","then","response","data","status","handleLogin","redirect","errors","catch","error","console","log","history","push","handleErrors","map","render","_handleSubmit","_handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      name: '',\n      password: '',\n      password_confirmation: '',\n      errors: ''\n     };\n  }\nhandleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\nhandleSubmit = (event) => {\n    event.preventDefault()\n    const { email, name, password, password_confirmation} = this.state\n\n    let user = {\n      username: username,\n      email: email,\n      password: password,\n      password_confirmation: password_confirmation\n    }\n\n    axios.post('http://localhost:3000/users', {user}, {withCredentials: true})\n    .then(response => {\n      if (response.data.status === 'created') {\n        this.props.handleLogin(response.data)\n        this.redirect()\n      } else {\n        this.setState({\n          errors: response.data.errors\n        })\n      }\n    })\n    .catch(error => console.log('api errors:', error))\n  };\n\n    redirect = () => {\n      this.props.history.push('/')\n    }\n\n    handleErrors = () => {\n      return (\n        <div>\n          <ul>{this.state.errors.map((error) => {\n            return <li key={error}>{error}</li>\n          })}\n          </ul>\n        </div>\n      )\n    }\n\nrender() {\n    const {name, email, password, password_confirmation} = this.state\n\n    return (\n      <form onSubmit = { this._handleSubmit }>\n        <label>Email</label>\n        <input\n            autoFocus\n            type=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n\n          <label>Name</label>\n          <input\n              type=\"text\"\n              value={name}\n              onChange={this.handleChange}\n            />\n\n          <label>Password</label>\n          <input\n            type=\"password\"\n            value={password}\n            onChange={this._handleChange}\n          />\n\n          <label>Confirm password</label>\n          <input\n            type=\"password\"\n            value={password_confirmation}\n            onChange={this._handleChange}\n          />\n        <input type=\"submit\" value=\"Sign Up\" />\n      </form>\n    )\n\n  }\n}\n\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}